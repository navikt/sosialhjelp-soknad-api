<div class="skjemaramme" data-ng-controller="ModusCtrl" data-scroll-tilbake-directive="barnetillegg">
    <div id="barnetilleggForm" data-ng-form="barnetilleggForm" class="skjemainnhold" data-ng-controller="BarnetilleggCtrl" novalidate>

        <p class="informasjonstekst" cmstekster="barnetillegg.informasjon"></p>

        <div class="spm-boks vertikal" data-ng-repeat="b in barn">
            <div data-ng-class="{gutt: erGutt(b), jente:erJente(b)}" id="barnetillegg{{b.faktumId}}" class="barn">
                <a href="#" class="lukk" data-ng-show="erBrukerregistrert(b)" data-ng-click="slettBarn(b, $index, $event)" data-tab-autoscroll> </a>

                <div class="barnealder">
                    <span data-cmstekster="aar"></span>
                    <span class="alder robust" data-ng-bind="b.properties.alder"></span>
                </div>
                <div class="barneinfo">
                    <div data-ng-bind="b.properties.sammensattnavn"></div>
                    <div data-ng-bind="b.properties.fnr"></div>
                    <div>{{ b.properties.fodselsdato | date:'dd.MM.yyyy'}}</div>
                    <div class="barnbosted">
                        <span class="bosted">bosted: </span>
                        <span data-ng-show="ingenLandRegistrert(b)">Ingen land registrert</span>
                        <span data-ng-bind="b.properties.land"></span>
                    </div>
                </div>
                <div class="barnecheckbox">
                    <div data-ng-if="hvisIRedigeringsmodus()">
                        <div data-ng-show="erSystemRegistrert(b)">
                            <a href data-ng-click="sokbarnetillegg(b.faktumId, $event)" data-cmstekster="barnetillegg.barnetilegg.sporsmal" data-ng-if="barnetilleggIkkeRegistrert(b)"></a>
                            <a href="#" data-ng-if="barnetilleggErRegistrert(b)" data-ng-click="slettBarnetillegg(b, $index, $event)" data-cmstekster="barnetillegg.slettbarnetillegg"></a>
                        </div>
                    </div>

                    <div data-ng-if="barnetilleggErRegistrert(b)">
                        <p class="svar-oppsummering" data-cmstekster="barnetillegg.barnetilegg.sporsmal"></p>

                        <p class="svar-oppsummering" data-ng-if="barnetHarIkkeInntekt(b)" data-cmstekster="barnetillegg.barnetilegg.ikkebarneinntekt.true"></p>

                        <p class="svar-oppsummering" data-ng-if="barnetHarInntekt(b)">
                            <span data-cmstekster="barnetillegg.barnetilegg.ikkebarneinntekt.false"> </span>
                            <span>.</span>
                            <span data-cmstekster="barnetillegg.barnetilegg.barneinntekttall.sporsmal"></span>
                            <span>{{ b.properties.barneinntekttall | currency }}</span>
                        </p>
                    </div>
                </div>
                <div class="sentrert" data-ng-show="erBrukerregistrert(b)">
                    <ul class="liste-vannrett">
                        <li>
                            <a href="#" data-ng-click="slettBarn(b, $index, $event)" data-cmstekster="barnetillegg.slettbarn" data-tab-autoscroll></a>
                        </li>
                        <li>
                            <a href="#" data-ng-click="endreBarn(b.faktumId, $event)" data-cmstekster="barnetillegg.endrebarn"></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="knapper-opprett" id="legg-til-barn" data-ng-show="hvisIRedigeringsmodus()">
            <p data-cmstekster="barnetillegg.nyttbarn.informasjon"></p>
            <a class="knapp-leggtil-liten" href="#/nyttbarn" data-ng-click="leggTilBarn($event)" data-cmstekster="barnetillegg.nyttbarn"></a>
        </div>

        <div spmblokkferdig
             nokkel="barnetillegg"
             modus="data.redigeringsModus"
             submit-method="validerOgSettModusOppsummering(barnetilleggForm)"></div>
    </div>
</div>

