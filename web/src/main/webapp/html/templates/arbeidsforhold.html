<div class="skjemaramme" data-ng-controller="ModusCtrl">
    <div ng-form="arbeidsforholdForm" class="skjemainnhold" data-ng-controller="ArbeidsforholdCtrl">
        <div data-form-errors></div>
        <p class="arbeidsforhold-informasjonstekst" data-cmstekster="arbeidsforhold.informasjon"></p>

        <div data-navradio 
            data-value="harIkkeJobbet"
            data-navconfig 
            data-nav-faktum="arbeidstilstand"
            data-navlabel="arbeidsforhold.arbeidstilstand.harikkejobbet"
            data-navfeilmelding="arbeidsforhold.arbeidstilstand.feilmelding">
        </div>

         <div data-navradio 
            data-value="varierendeArbeidstid"
            data-navconfig
            data-nav-faktum="arbeidstilstand"
            data-navlabel="arbeidsforhold.arbeidstilstand.varierendearbeidstid"
            data-navfeilmelding="arbeidsforhold.arbeidstilstand.feilmelding">
        </div>
       

         <div data-navradio 
            data-value="fastArbeidstid"
            data-navconfig
            data-nav-faktum="arbeidstilstand"
            data-navlabel="arbeidsforhold.arbeidstilstand.fastarbeidstid"
            data-navfeilmelding="arbeidsforhold.arbeidstilstand.feilmelding">
        </div>
        
        <div data-ng-show="hvisHarJobbetVarierende()">
            <div data-navinfoboks
                 data-nokkel="arbeidsforhold.arbeidstilstand.varierendearbeidstid.informasjonstekst">
            </div>
        </div>
        <div data-ng-show="hvisHarJobbetFast()">
            <div data-navinfoboks
                 data-nokkel="arbeidsforhold.arbeidstilstand.fastarbeidstid.informasjonstekst">
            </div>
        </div>

        <div data-ng-repeat="af in soknadData.fakta.arbeidsforhold.valuelist" data-ng-class="{'last': $last}">
            <div class="spm-boks vertikal"
                <p class="arbeidsforhold-dato">{{ af.properties.datofra | date:'dd.MM.yyyy'}} - {{
                    af.properties.datotil | date:'dd.MM.yyyy'}}</p>

                <p class="arbeidsforhold-arbeidsgivernavn-overskrift">{{ af.properties.arbeidsgivernavn }}</p>

                <div class="arbeidsforhold-land-sluttaarsak-blokk" data-ng-controller="sluttaarsakCtrl">
                    <span class="svar-oppsummering-label" data-cmstekster="arbeidsforhold.arbeidsgiver.sluttaarsak"></span>
                    <span class="svar-oppsummering-label-svar" data-ng-bind="gjeldendeSluttaarsak.properties.type"></span>

                    <div class="arbeidsgiver-oppsummering-sluttaarsaker">
                        <div data-ng-include="gjeldendeSluttaarsakUrl"></div>
                    </div>
                </div>

                <p class="arbeidsforhold-oppsummering-endre-slett lenker-dot">
                    <a href data-ng-click="slettArbeidsforhold(af, $index, $event)" data-cmstekster="arbeidsforhold.slettarbeidsforhold"></a>
                    <a href data-ng-click="endreArbeidsforhold($index, arbeidsforholdForm)" data-cmstekster="arbeidsforhold.endrearbeidsforhold"></a>
                </p>
            </div>
        </div>


        <div data-ng-if="hvisHarJobbet()">
            <input type="hidden" 
                    data-ng-model="lagretArbeidsforhold" 
                    data-nav-faktum="lagretArbeidsforhold"
                    data-ng-required="true"
                    data-error-messages="'arbeidsforhold.arbeidsforhold.required'">
        </div>

        <div class="knapper-arbeidsforhold">
            <div id="legg-til" data-ng-show="hvisHarJobbet()">            
                <button class="knapp-leggtil-liten" data-ng-click="nyttArbeidsforhold($event, arbeidsforholdForm)"
                        data-cmstekster="arbeidsforhold.nyttarbeidsforhold" role="button"></button>
            </div>

            <div data-spmblokkferdig
                 data-nokkel="arbeidsforhold"
                 data-submit-method="validerOgSettModusOppsummering(arbeidsforholdForm)"></div>
        </div>

        
        

            <!--div class="spm-boks vertikal" data-ng-if="posisjonForArbeidsforholdUnderRedigering == $index"
                 data-ng-form="leggTilArbeidsforholdForm" data-ng-controller="LeggTilArbeidsforholdCtrl">
                <div data-form-errors></div>
                <div class="arbeidsforhold-spm">
                    <div class="form-linje">
                        <label>
                            <span data-cmstekster="arbeidsforhold.arbeidsgiver.navn"></span>
                            <input name="arbeidsgivernavn"
                                   data-error-messages="'arbeidsforhold.arbeidsgiver.navn.feilmelding'" type="text"
                                   data-ng-model="af.navn"
                                   data-blur-validate required>
                            <span class="melding"></span>
                        </label>
                    </div>


                    <div class="land">
                        <div data-nav-select
                             data-navconfig
                             data-label="arbeidsforhold.arbeidsgiver.land"
                             data-nav-faktum="af.land"
                             data-ikke-auto-lagre="true"
                             data-options="landService.result"
                             data-er-required="true"
                             data-default-value="arbeidsforhold.arbeidsgiver.landDefault"
                             data-required-feilmelding="arbeidsforhold.arbeidsgiver.land.feilmelding"
                             data-ugyldig-feilmelding="arbeidsforhold.arbeidsgiver.land.ugyldig.feilmelding">
                        </div>
                    </div>

                    <div class="varighet">
                        <div data-nav-dato-intervall
                             data-fra-dato="af.varighetFra"
                             data-til-dato="af.varighetTil"
                             data-label="arbeidsforhold.arbeidsgiver.varighet"
                             data-er-begge-required="true">
                        </div>
                    </div>

                    <div class="form-linje">
                        <label>
                            <span data-cmstekster="arbeidsforhold.arbeidsgiver.sluttaarsak"></span>
                            <select id="sluttaarsak_id"
                                    data-name="sluttaarsak"
                                    data-ng-model="af.sluttaarsak"
                                    data-ng-options="t.navn for t in templates"
                                    data-error-messages="'arbeidsforhold.arbeidsgiver.sluttaarsak.feilmelding'"
                                    data-ng-required="true">
                                <option value="" cmstekster="arbeidsforhold.arbeidsgiver.sluttaarsakDefault"></option>
                            </select>
                            <span class="melding"></span>
                        </label>
                    </div>

                    <div data-ng-show="af.sluttaarsak">
                        <div data-ng-include="af.sluttaarsak.url"></div>
                    </div>
                </div>
                <div class="knapper-opprett-arbeidsforhold">
                    <input class="knapp-hoved-liten" name="lagre" data-cmstekster="arbeidsforhold.lagre" type="submit"
                           id="arbeidsgiverLagre" data-ng-click="lagreArbeidsforhold(af, arbeidsforholdForm)">
                    <a class="arbeidsforhold-avbryt" href data-cmstekster="arbeidsforhold.avbryt"
                       data-ng-click="avbrytEndringAvArbeidsforhold(af, arbeidsforholdForm)"></a>
                </div>
            </div>

        </div-->
    </div>
</div>


