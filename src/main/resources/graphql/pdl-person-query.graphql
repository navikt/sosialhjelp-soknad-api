fragment metadata on Metadata {
    master
    endringer {
        kilde
        registrert
        type
    }
}

fragment folkeregistermetadata on Folkeregistermetadata {
    ajourholdstidspunkt
    kilde
}

fragment vegadresse on Vegadresse {
    matrikkelId
    adressenavn
    husnummer
    husbokstav
    tilleggsnavn
    postnummer
    kommunenummer
    bruksenhetsnummer
    bydelsnummer
}

fragment matrikkeladresse on Matrikkeladresse {
    matrikkelId
    postnummer
    tilleggsnavn
    kommunenummer
    bruksenhetsnummer
}

query($ident: ID!, $historikk: Boolean!) {
    hentPerson(ident: $ident) {
        bostedsadresse(historikk: $historikk) {
            coAdressenavn
            vegadresse {
                ...vegadresse
            }
            matrikkeladresse {
                ...matrikkeladresse
            }
            ukjentBosted {
                bostedskommune
            }
        }
        oppholdsadresse(historikk: $historikk) {
            oppholdAnnetSted
            coAdressenavn
            vegadresse {
                ...vegadresse
            }
            metadata {
                ...metadata
            }
            folkeregistermetadata{
                ...folkeregistermetadata
            }
        }
        forelderBarnRelasjon {
            relatertPersonsIdent
            relatertPersonsRolle
            minRolleForPerson
        }
        navn(historikk: $historikk) {
            fornavn
            mellomnavn
            etternavn
            metadata {
                ...metadata
            }
            folkeregistermetadata{
                ...folkeregistermetadata
            }
        }
        sivilstand(historikk: $historikk) {
            type
            relatertVedSivilstand
            metadata {
                ...metadata
            }
            folkeregistermetadata{
                ...folkeregistermetadata
            }
        }
        statsborgerskap(historikk: $historikk) {
            land
        }
    }
}